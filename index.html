<html>
<head>
        <meta charset="utf-8" />
		
		
        <title>CATNAT</title>
		 
		  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
		  

		  <!-- CSS  -->
		  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		  <link href="materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
		  
		  <script src="https://d3js.org/d3.v4.min.js"></script>
		  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	</head>
<body>
<div>
<div class="navbar-fixed">
<nav class="orange" role="navigation">
	<a href="#" class="brand-logo">CATNAT</a>
    
  </nav>	  
  </div>
  <h3>Find more about natural disasters</h3>
   <div class="row">
   		<div class="col s10 offset-s1 row">
   			<div class="col s3">
   				
   			</div>
   			<div class="col s6" id="svgcontainer">
   				
   			</div>
   			<div class="col s3">
   				
   			</div>
   		</div>
   </div>

  





</div>



<footer class="page-footer orange" >
    
    <div class="footer-copyright">
      <div class="container">
      Créé par Guillaume Le Gall, Jean-Thomas Beaudoin et Xavier Lavie
      </div>
    </div>
  </footer>

<script>
		var width = 900,
  		  height = 500;

		var svg = d3.select( "#svgcontainer" )
  		.append( "svg" )
		  .attr( "width", width )
		  .attr( "height", height );

    var projection = d3.geoNaturalEarth1()

    var path = d3.geoPath() // d3.geo.path avec d3 version 3
                 .projection(projection);
    
		// Load external data and boot
d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson", function(data){

  d3.csv("https://raw.githubusercontent.com/glegall7/datavizCATNAT/master/test6.csv", function(data){
      console.log(data)
      
      svg.append("g").selectAll("circle")
		.data(data).enter()
		.append("circle")
		.attr("cx", function (d) {;return projection([d.newlongitude,d.newlatitude])[0]; })
		.attr("cy", function (d) { return projection([d.newlongitude,d.newlatitude])[1]; })
		.attr("r", "2px")
		.attr("fill", "red")
    })
  
    // Draw the map
    svg.append("g")
        .selectAll("path")
        .data(data.features)
        .enter().append("path")
            .attr("fill", "#69b3a2")
            .attr("d", d3.geoPath()
                .projection(projection)
            )
            .style("stroke", "#fff")
})
    
    
  </script>
  

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="materialize.js"></script>
  <script src="init.js"></script>
    
</body>

</html>
